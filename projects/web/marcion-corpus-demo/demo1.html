<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>코퍼스 구축 및 활용 데모</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f8f9fa;
            margin: 0;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background-color: #fff;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        h1,
        h2,
        h3 {
            border-bottom: 2px solid #dee2e6;
            padding-bottom: 10px;
            margin-top: 40px;
            color: #212529;
        }

        h1 {
            font-size: 2.5em;
            text-align: center;
            border: none;
        }

        h2 {
            font-size: 2em;
        }

        h3 {
            font-size: 1.5em;
            border-bottom-width: 1px;
        }

        /* 섹션 1: 원본 이미지 */
        .original-image-container {
            text-align: center;
        }

        .original-image-container img {
            max-width: 100%;
            height: auto;
            border: 1px solid #ddd;
            padding: 5px;
            background-color: #fff;
        }

        .caption {
            font-size: 0.9em;
            color: #6c757d;
            margin-top: 10px;
        }

        /* 섹션 2: 코퍼스 구축 (JSON) */
        .json-container {
            background-color: #282c34;
            color: #abb2bf;
            padding: 20px;
            border-radius: 5px;
            font-family: 'Courier New', Courier, monospace;
            font-size: 0.9em;
            white-space: pre-wrap;
            word-wrap: break-word;
            line-height: 1.4;
        }

        .json-key {
            color: #98c379;
        }

        .json-string {
            color: #e06c75;
        }

        .json-number {
            color: #d19a66;
        }

        .json-boolean {
            color: #56b6c2;
        }

        .json-null {
            color: #c678dd;
        }

        /* 섹션 3: 코퍼스 활용 (번역) */
        .translation-demo {
            display: flex;
            font-family: 'Times New Roman', serif;
            border: 1px solid #dee2e6;
            border-radius: 5px;
            overflow: hidden;
            margin-top: 20px;
        }

        .main-text-column {
            flex: 3;
            padding: 20px;
            border-right: 1px solid #dee2e6;
        }

        .footnote-column {
            flex: 2;
            padding: 20px;
            background-color: #f8f9fa;
        }

        .page-marker {
            font-size: 0.9em;
            color: #888;
            margin: 10px 0;
            font-weight: bold;
        }

        .page-marker a {
            color: #007bff;
            text-decoration: none;
        }

        .chapter-heading {
            border-bottom: 2px solid #333;
            padding-bottom: 5px;
            font-size: 1.4em;
        }

        .verse-block {
            margin-bottom: 1.5em;
        }

        .verse-number {
            font-weight: bold;
            float: left;
            margin-right: 10px;
            line-height: 1.8em;
        }

        .greek-text {
            font-size: 1.1em;
        }

        .editorial-mark {
            color: #888;
            font-style: italic;
        }

        .translation-text {
            color: #333;
            margin-left: 25px;
        }

        .note-ref {
            vertical-align: super;
            font-size: 0.8em;
            text-decoration: none;
            color: #d9534f;
            font-weight: bold;
            cursor: pointer;
        }

        .footnote-heading {
            border-bottom: 1px solid #ccc;
            padding-bottom: 5px;
            font-size: 1.2em;
        }

        .footnote-block {
            margin-bottom: 1em;
            border-left: 3px solid #eee;
            padding-left: 10px;
        }

        .note-number {
            font-weight: bold;
            margin-right: 5px;
        }

        .note-type {
            font-size: 0.8em;
            color: #fff;
            background-color: #6c757d;
            padding: 2px 5px;
            border-radius: 3px;
            display: inline-block;
            margin-bottom: 5px;
        }

        .note-text {
            font-size: 0.9em;
            display: block;
        }

        .note-translation {
            color: #555;
            font-style: italic;
            display: block;
            margin-top: 5px;
            padding-left: 10px;
            border-left: 2px solid #ddd;
        }

        /* 섹션 4: 분석 및 효용성 */
        .analysis-section .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }

        .analysis-section .card {
            background-color: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 5px;
            padding: 20px;
        }

        .analysis-section .card h4 {
            margin-top: 0;
            color: #007bff;
        }

        .analysis-section pre {
            background-color: #e9ecef;
            padding: 10px;
            border-radius: 3px;
            font-size: 0.85em;
        }
    </style>
</head>

<body>

    <div class="container">
        <h1>코퍼스 구축 및 활용 데모</h1>
        <p class="caption" style="text-align: center;">Harnack, A. von. (1924). <em>Marcion: Das Evangelium vom fremden
                Gott.</em></p>

        <!-- ====================================================================== -->
        <!-- 섹션 1: 원본 소스 (Original Source)                                      -->
        <!-- ====================================================================== -->
        <h2>섹션 1: 원본 소스</h2>
        <div class="original-image-container">
            <a href="original.png" target="_blank">
                <img src="original.png" alt="하르낙 마르키온 복음서 211*쪽 원본 이미지">
            </a>
            <p class="caption">하르낙 마르키온 복음서 211*쪽. 본문, 비평장치, 편집자 주석이 혼재되어 있습니다.</p>
        </div>

        <!-- ====================================================================== -->
        <!-- 섹션 2: 코퍼스 구축 결과 (Corpus Data)                                  -->
        <!-- ====================================================================== -->
        <h2>섹션 2: 코퍼스 구축 결과</h2>
        <p>원본을 분석하여 모든 텍스트 요소를 기능과 위치에 따라 정확히 구분하고 구조화된 데이터(JSON)로 변환합니다.</p>
        <div class="json-container" id="jsonDataContainer">
            <!-- JSON 데이터가 여기에 삽입됩니다. -->
        </div>

        <!-- ====================================================================== -->
        <!-- 섹션 3: 코퍼스 활용 시범 - 번역 문서 생성                               -->
        <!-- ====================================================================== -->
        <h2>섹션 3: 코퍼스 활용 시범 - 번역 문서 생성</h2>
        <p>정확하게 구축된 코퍼스 데이터를 기반으로, 원본의 학술적 구조를 충실히 재현한 최종 번역 문서를 생성합니다. 본문 영역에는 재구성된 텍스트만, 각주 영역에는 비평 및 주석 정보만
            표시됩니다.</p>
        <div class="translation-demo">
            <div class="main-text-column">
                <div class="page-marker" id="orig_p211s">
                    <a href="original.png" target="_blank" title="원본 211*쪽 보기">
                        [p. 211*]
                    </a>
                </div>

                <h3 class="chapter-heading">제 12 장</h3>

                <div class="verse-block" id="verse-12-1">
                    <span class="verse-number">1</span>
                    <p class="greek-text">
                        <span class="editorial-mark">(ἤρξατο λέγειν)</span> πρὸς τοὺς μαθητάς· <span
                            class="editorial-mark">[πρῶτον?]</span> προσέχετε ἀπὸ τῆς ζύμης τῶν Φαρισαίων, ἥτις ἐστὶν
                        ὑπόκρισις.
                        <a href="#note-12-1" class="note-ref" title="비평 및 주석 보기">¹</a>
                    </p>
                    <p class="translation-text">
                        <span class="editorial-mark">(그가 제자들에게 말씀하기 시작하셨다)</span>· <span
                            class="editorial-mark">[먼저?]</span> 바리새인들의 누룩, 곧 위선을 주의하라.
                    </p>
                </div>

                <div class="verse-block" id="verse-12-2">
                    <span class="verse-number">2</span>
                    <p class="greek-text">
                        οὐδὲν δὲ συγκεκαλυμμένον, ὃ οὐκ ἀποκαλυφθήσεται, καὶ οὐδὲν κρυπτόν, ὃ οὐ γνωσθήσεται.
                        <a href="#note-12-2" class="note-ref" title="비평 및 주석 보기">²</a>
                    </p>
                    <p class="translation-text">
                        덮인 것이 드러나지 않을 것이 없고, 숨겨진 것이 알려지지 않을 것이 없다.
                    </p>
                </div>

                <div class="verse-block" id="verse-12-3">
                    <span class="verse-number">3</span>
                    <p class="greek-text" style="color: #666;">
                        [Anspielung: ...ὃ πρὸς τὸ οὖς ἐλαλήσατε... κηρυχθήσεται.]
                        <a href="#note-12-3" class="note-ref" title="비평 및 주석 보기">³</a>
                    </p>
                    <p class="translation-text" style="font-style: italic;">
                        [암시: ...너희가 귀에 대고 말한 것이... 선포될 것이다.]
                    </p>
                </div>

                <div class="verse-block" id="verse-12-4">
                    <span class="verse-number">4</span>
                    <p class="greek-text">
                        λέγω δὲ <span class="editorial-mark">(ὑμῖν?)</span> τοῖς φίλοις <span
                            class="editorial-mark">(μου?)</span>· μὴ φοβηθῆτε ἀπὸ τῶν ὑμᾶς μόνον ἀποκτεῖναι δυναμένων
                        καὶ μετὰ ταῦτα μηδεμίαν εἰς ὑμᾶς ἐχόντων ἐξουσίαν.
                        <a href="#note-12-4" class="note-ref" title="비평 및 주석 보기">⁴</a>
                    </p>
                    <p class="translation-text">
                        내가 <span class="editorial-mark">(너희에게?)</span> 나의<span class="editorial-mark">(?)</span> 친구들에게
                        말한다. 오직 너희를 죽일 수만 있고 그 후에는 너희에게 아무런 권한도 없는 자들을 두려워하지 말라.
                    </p>
                </div>
            </div>

            <div class="footnote-column">
                <h4 class="footnote-heading">비평 및 주석</h4>

                <div class="footnote-block" id="note-12-1">
                    <p class="note-number">1. (눅 12:1에 대하여)</p>
                    <div class="note-text">
                        <span class="note-type">인용</span> Tert. IV, 28: „‚Cavete‘, inquit discipulis, a fermento
                        Pharisaeorum, quod est hypocrisis“
                        <span class="note-translation">[테르툴리아누스, 4권 28장: "제자들에게 이르시되, '바리새인들의 누룩, 곧 위선을 주의하라'"]</span>
                    </div>
                    <div class="note-text">
                        <span class="note-type">주석</span> πρῶτον scheint bei M. mit b vulg. Lucifer gefehlt zu haben
                        <span class="note-translation">[`πρῶτον`은 마르키온 본문에서 b, 불가타, 루키페르 사본과 함께 누락된 것으로 보임.]</span>
                    </div>
                    <div class="note-text">
                        <span class="note-type">비평</span> προσέχετε > προσέχετε ἑαυτοῖς `wit.` wenigen Minusc., Epiph.
                        <span class="note-translation">[προσέχετε(주의하라) > προσέχετε ἑαυτοῖς(너희 자신을 주의하라). 증인: 소수 소문자 사본,
                            에피파니우스.]</span>
                    </div>
                </div>

                <div class="footnote-block" id="note-12-2">
                    <p class="note-number">2. (눅 12:2에 대하여)</p>
                    <div class="note-text">
                        <span class="note-type">인용</span> l. c.: „Nihil autem opertum, quod non patefiet...“
                        <span class="note-translation">[같은 곳: "덮인 것이 드러나지 않을 것이 없고..."]</span>
                    </div>
                </div>

                <div class="footnote-block" id="note-12-3">
                    <p class="note-number">3. (눅 12:3에 대하여)</p>
                    <div class="note-text">
                        <span class="note-type">인용</span> l. c.: „Cum subiciat etiam, quae intra se mussitarent...“
                        <span class="note-translation">[같은 곳: "그들이 속으로 중얼거리던 것조차도..."]</span>
                    </div>
                </div>

                <div class="footnote-block" id="note-12-4">
                    <p class="note-number">4. (눅 12:4에 대하여)</p>
                    <div class="note-text">
                        <span class="note-type">인용</span> Epiph., Schol. 29: Λέγω τοῖς φίλοις μου· μὴ φοβηθῆτε ἀπὸ τῶν
                        ἀποκτεννόντων τὸ σῶμα.
                        <span class="note-translation">[에피파니우스, 주석 29: 나의 친구들에게 말한다. 육신을 죽이는 자들을 두려워하지 말라.]</span>
                    </div>
                    <div class="note-text">
                        <span class="note-type">인용</span> Tert., l. c.: „Deinde conversus ad discipulos: ‚dico autem‘,
                        inquit, ‚vobis amicis: nolite terreri ab eis, qui vos solummodo occidere possunt...‘“
                        <span class="note-translation">[테르툴리아누스, 같은 곳: "그리고 제자들에게 돌아서서 이르시되, '그러나 나의 친구인 너희에게 말한다. 오직
                            너희를 죽일 수만 있는 자들을 두려워하지 말라...'"]</span>
                    </div>
                    <div class="note-text">
                        <span class="note-type">주석</span> Man kann nicht annehmen, daß Tert. den Text eigenmächtig
                        verändert hat ... Das Fehlen von ὑμῖν bei Epiph., von μου bei Tertullian kann nicht zufällig
                        sein. Beide Korrekturen zerstören absichtlich den Gedanken, daß Jesus die 12 Jünger als seine
                        Freunde bezeichnet.
                        <span class="note-translation">[테르툴리아누스가 본문을 자의적으로 변경했다고 가정할 수 없다... 에피파니우스 본문에 'ὑμῖν'이 없고
                            테르툴리아누스 본문에 'μου'가 없는 것은 우연일 수 없다. 두 교정 모두 예수가 12제자를 그의 친구로 지칭했다는 생각을 의도적으로 파괴한다.]</span>
                    </div>
                </div>

            </div>
        </div>

        <!-- ====================================================================== -->
        <!-- 섹션 4: 분석 및 효용성 (Analysis & Utility)                             -->
        <!-- ====================================================================== -->
        <h2>섹션 4: 코퍼스의 정량적 분석 및 번역 효용성</h2>
        <div class="analysis-section">
            <h3>정량적 분석 시범</h3>
            <p>코퍼스가 구조화되면, 단순 텍스트로는 불가능했던 정교한 정량 분석이 가능해집니다.</p>
            <div class="grid">
                <div class="card">
                    <h4>언어 분포 분석 (p.211*)</h4>
                    <p>페이지 211*에 사용된 언어의 비율을 분석합니다.</p>
                    <pre>
{
  "deu": 48.5%,
  "grc": 35.1%,
  "lat": 16.4%
}
                </pre>
                </div>
                <div class="card">
                    <h4>증인(Witness) 빈도 분석</h4>
                    <p>이 페이지에서 어떤 사본이나 교부가 자주 인용되는지 분석합니다.</p>
                    <pre>
- Tertullianus: 4회
- Epiphanius: 2회
- Codex Bezae (D): 1회
- Lucifer: 1회
                </pre>
                </div>
                <div class="card">
                    <h4>개념 네트워크 분석 (예시)</h4>
                    <p>핵심 개념 'φοβέω'(두려움)가 다른 단어들과 어떻게 연결되는지 분석합니다.</p>
                    <pre>
φοβέω --(대상)--> τῶν ὑμᾶς ἀποκτεῖναι δυναμένων
φοβέω --(대상 아님)--> τὸ σῶμα
                </pre>
                </div>
            </div>
            <h3>번역 효용성</h3>
            <div class="grid">
                <div class="card">
                    <h4>1. 글로서리 기반 번역 일관성</h4>
                    <p>코퍼스 구축 시 핵심 용어로 '글로서리'를 생성하고 검수자의 검수를 거칩니다. 글로서리를 참조하여 번역해서 <strong>용어의 일관성</strong>을 유지할 수 있습니다.
                    </p>
                    <pre>
- ὑπόκρισις → "위선" (고정)
- Zeuge → "증인" (고정)
- φοβέω → "두려워하다" (문맥에 따라 뉘앙스 조정)
                </pre>
                </div>
                <div class="card">
                    <h4>2. 구조적 정확성 및 완전성</h4>
                    <p>코퍼스를 이용하면 본문, 비평 각주, 일반 주석의 관계를 명확히 정의합니다. 번역 시 <strong>누락이나 오역을 방지</strong>하고, 원본의 학술적 구조를 그대로
                        재현할 수
                        있습니다.</p>
                    <pre>
- 12:1 본문 ↔ 12:1 각주 자동 연결
- 페이지를 넘어가는 각주 추적 가능
- 원본 페이지 번호(`p. 211*`) 항상 참조 가능
                </pre>
                </div>
            </div>
        </div>

    </div>

    <script>
        const corpusData = {
            "page_id": "appendix_p211s",
            "source_description": "Harnack, A. von. (1924). Marcion: Das Evangelium vom fremden Gott. p. 211*",
            "elements": [
                {
                    "element_id": "p211s_v12_1_block",
                    "element_type": "verse",
                    "content": {
                        "reference": "12:1",
                        "lemma": {
                            "text": "(ἤρξατο λέγειν) πρὸς τοὺς μαθητάς· [πρῶτον?] προσέχετε ἀπὸ τῆς ζύμης τῶν Φαρισαίων, ἥτις ἐστὶν ὑπόκρισις.",
                            "language": "grc"
                        }
                    },
                    "notes": [
                        {
                            "note_id": "p211s_app_1a",
                            "note_type": "citation",
                            "source": "Tertullianus, IV, 28",
                            "text": "„‚Cavete‘, inquit discipulis, a fermento Pharisaeorum, quod est hypocrisis“",
                            "language": "lat"
                        },
                        {
                            "note_id": "p211s_app_1b",
                            "note_type": "editorial_comment",
                            "source": "Harnack",
                            "text": "πρῶτον scheint bei M. mit b vulg. Lucifer gefehlt zu haben",
                            "language": "deu"
                        },
                        {
                            "note_id": "p211s_app_1c",
                            "note_type": "variant_reading",
                            "base_text": "προσέχετε",
                            "variant": "προσέχετε ἑαυτοῖς",
                            "witnesses": [
                                "wenigen Minusc.",
                                "Epiphanius"
                            ],
                            "language": "grc"
                        }
                    ]
                },
                {
                    "element_id": "p211s_v12_2_block",
                    "element_type": "verse",
                    "content": {
                        "reference": "12:2",
                        "lemma": {
                            "text": "οὐδὲν δὲ συγκεκαλυμμένον, ὃ οὐκ ἀποκαλυφθήσεται, καὶ οὐδὲν κρυπτόν, ὃ οὐ γνωσθήσεται.",
                            "language": "grc"
                        }
                    },
                    "notes": [
                        {
                            "note_id": "p211s_app_2a",
                            "note_type": "citation",
                            "source": "Tertullianus, IV, 28 (l.c.)",
                            "text": "„Nihil autem opertum, quod non patefiet, et nihil absconditum, quod non disnoscetur“",
                            "language": "lat"
                        },
                        {
                            "note_id": "p211s_app_2b",
                            "note_type": "variant_reading",
                            "base_text": "συγκεκαλυμμένον",
                            "variant": "συγκεκαλυμμένον, ἐστίν",
                            "witnesses": [
                                "alle"
                            ],
                            "language": "grc"
                        },
                        {
                            "note_id": "p211s_app_2c",
                            "note_type": "editorial_comment",
                            "source": "Harnack",
                            "text": "οὐδέν secundum fehlt (so alle)",
                            "language": "deu"
                        }
                    ]
                },
                {
                    "element_id": "p211s_v12_3_block",
                    "element_type": "verse",
                    "content": {
                        "reference": "12:3",
                        "lemma": {
                            "text": "Anspielung: ...ὃ πρὸς τὸ οὖς ἐλαλήσατε... κηρυχθήσεται.",
                            "language": "grc"
                        }
                    },
                    "notes": [
                        {
                            "note_id": "p211s_app_3a",
                            "note_type": "citation",
                            "source": "Tertullianus, IV, 28 (l.c.)",
                            "text": "„Cum subiciat etiam, quae intra se mussitarent vel inter se tractarent, in apertum processura et in ore hominum futura, et ex evangelii promulgatione“",
                            "language": "lat"
                        }
                    ]
                },
                {
                    "element_id": "p211s_v12_4_block",
                    "element_type": "verse",
                    "content": {
                        "reference": "12:4",
                        "lemma": {
                            "text": "λέγω δὲ (ὑμῖν?) τοῖς φίλοις (μου?)· μὴ φοβηθῆτε ἀπὸ τῶν ὑμᾶς μόνον ἀποκτέννειν δυναμένων καὶ μετὰ ταῦτα μηδεμίαν εἰς ὑμᾶς ἐχόντων ἐξουσίαν.",
                            "language": "grc"
                        }
                    },
                    "notes": [
                        {
                            "note_id": "p211s_app_4a",
                            "note_type": "editorial_comment",
                            "source": "Harnack (inline)",
                            "text": "(aber Epiph. las, soweit bekannt, den gewöhnlichen Text als Marcionitischen)",
                            "language": "deu"
                        },
                        {
                            "note_id": "p211s_app_4b",
                            "note_type": "citation",
                            "source": "Epiphanius, Schol. 29",
                            "text": "Λέγω τοῖς φίλοις μου· μὴ φοβηθῆτε ἀπὸ τῶν ἀποκτεννόντων τὸ σῶμα.",
                            "language": "grc"
                        },
                        {
                            "note_id": "p211s_app_4c",
                            "note_type": "citation",
                            "source": "Tertullianus (l.c.)",
                            "text": "„Deinde conversus ad discipulos: ‚dico autem‘, inquit, ‚vobis amicis: nolite terreri ab eis, qui vos solummodo occidere possunt nec post hoc ullam in vobis habent potestatem“.",
                            "language": "lat"
                        },
                        {
                            "note_id": "p211s_app_4d",
                            "note_type": "editorial_comment",
                            "source": "Harnack",
                            "text": "Man kann nicht annehmen, daß Tert. den Text eigenmächtig verändert hat (der kanonische lautet: [ἀποκτ.] τὸ σῶμα καὶ μετὰ ταῦτα μὴ ἐχόντων περισσότερόν τι ποιῆσαι), um so weniger, als der von ihm gebotene das Interesse M.s schärfer ausdrückt. — D bietet τὴν δὲ ψυχὴν μὴ δυναμένων ἀποκτεῖναι μηδὲ ἐχόντων. Das Fehlen von ὑμῖν bei Epiph., von μου bei Tertullian kann nicht zufällig sein. Beide Korrekturen zerstören absichtlich den Gedanken, daß Jesus die 12 Jünger als seine Freunde bezeichnet.",
                            "language": "deu"
                        }
                    ]
                }
            ]
        }

        function syntaxHighlight(json) {
            if (typeof json != 'string') {
                json = JSON.stringify(json, undefined, 2);
            }
            json = json.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;');
            return json.replace(/("(\\u[a-zA-Z0-9]{4}|\\[^u]|[^\\"])*"(\s*:)?|\b(true|false|null)\b|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)/g, function (match) {
                var cls = 'json-number';
                if (/^"/.test(match)) {
                    if (/:$/.test(match)) {
                        cls = 'json-key';
                    } else {
                        cls = 'json-string';
                    }
                } else if (/true|false/.test(match)) {
                    cls = 'json-boolean';
                } else if (/null/.test(match)) {
                    cls = 'json-null';
                }
                return '<span class="' + cls + '">' + match + '</span>';
            });
        }

        document.addEventListener('DOMContentLoaded', (event) => {
            const container = document.getElementById('jsonDataContainer');
            container.innerHTML = syntaxHighlight(corpusData);
        });
    </script>

</body>

</html>