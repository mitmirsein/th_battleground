# 프로젝트 API 비용 산출 보고서 (Gemini 2.5 Pro 기준)

- **프로젝트:** Harnack, *Marcion* 디지털 코퍼스 구축 (총 750페이지)
- **적용 모델:** Gemini 2.5 Pro
- **작성일:** 2024년 6월 18일
- **문서 버전:** 1.0

---

## 1. 개요 (Executive Summary)

본 문서는 '디지털 코퍼스 구축 표준 가이드라인 v4.0'에 따라 총 750페이지 분량의 문헌을 처리할 때, **Gemini 2.5 Pro** 모델 사용 시 발생하는 예상 API 비용을 산출한다.

- **총 예상 토큰:** 약 **470만 ~ 550만** 토큰
- **총 예상 API 비용:** **$19 ~ $24 (USD)**
- **원화 환산 금액:** **약 27,000원 ~ 34,000원** (@1,400원/달러 기준)

---

## 2. 산출 근거

### 2.1. 분석 대상

- **원본 문헌:** Harnack, *Marcion*, Das Evangelium vom fremden Gott
- **전체 분량:** 약 750 페이지
- **특징:** 독일어, 라틴어, 고대 그리스어(Polytonic) 혼재, 복잡한 비평 장치(critical apparatus) 포함

### 2.2. 적용 모델 및 가격 정책 (Gemini 2.5 Pro)

계산은 요청(request)당 토큰 크기에 따라 가격이 달라지는 아래의 계층형 구조를 기반으로 한다.

| 구분 | 요청당 토큰 | 입력 (Input) | 출력 (Output) |
| :--- | :--- | :--- | :--- |
| **저가 구간** | `<= 200K` | $1.25 / 1M 토큰 | $10.00 / 1M 토큰 |
| **고가 구간** | `> 200K` | $2.50 / 1M 토큰 | $15.00 / 1M 토큰 |

---

## 3. 단계별 상세 비용 분석 (Phase-by-Phase Breakdown)

### Phase 1: 지능형 설계 파트너십
- **작업 내용:** 샘플 분석, 대화형 설계, 프로토타이핑
- **적용 구간:** 모든 요청이 200K 토큰 미만이므로 **저가 구간** 적용.
- **예상 비용:** **약 $0.70**

### Phase 2: 베이스-레이어 구조화
- **작업 내용:** 전체 750페이지를 이미지 단위로 입력하여 OCR 및 구조화 수행.
- **적용 구간:** 총 750번의 개별 API 요청 발생. 각 요청은 [프롬프트 + 이미지 1장]으로 구성되어 200K 토큰보다 훨씬 작으므로, 모든 요청에 **저가 구간** 적용.
- **상세 계산:**
    - 입력: 3.375M 토큰 * $1.25 = $4.22
    - 출력: 0.975M 토큰 * $10.00 = $9.75
- **예상 비용:** **약 $13.97**

### Phase 3: 강화 및 패치-레이어 구축
- **작업 내용:** `base.json` 전체(약 1M 토큰)를 컨텍스트로 사용하여 정오표 및 목차 메타데이터 적용.
- **적용 구간:** API 요청의 입력 컨텍스트가 200K 토큰을 초과하므로 **고가 구간** 적용.
- **상세 계산:**
    - 입력: 1.95M 토큰 * $2.50 = $4.88
    - 출력: 0.02M 토큰 * $15.00 = $0.30
- **예상 비용:** **약 $5.18**

### Phase 4: 품질 보증 및 패키징
- **작업 내용:** `CHANGELOG.md` 생성 등 간단한 요약 작업.
- **적용 구간:** 요청이 매우 작으므로 **저가 구간** 적용.
- **예상 비용:** **약 $0.10**

---

## 4. 최종 비용 종합

| 구분 | 적용 가격 구간 | 예상 비용 (USD) | 비고 |
| :--- | :--- | :--- | :--- |
| Phase 1 | `<=` 200K | ~$0.70 | 설계 및 프로토타이핑 |
| Phase 2 | `<=` 200K (x750회) | ~$13.97 | **핵심 비용 구간** |
| Phase 3 | `>` 200K | ~$5.18 | 대용량 컨텍스트 처리 |
| Phase 4 | `<=` 200K | ~$0.10 | 마무리 작업 |
| **합계** | | **~$19.95** | |
| **최종 예측** | | **$19 ~ $24** | 재시도 및 튜닝 등 예비비 포함 |

## 5. 결론
본 프로젝트의 API 비용은 Gemini 2.5 Pro의 계층형 가격 정책 덕분에 매우 효율적으로 관리될 수 있다. 특히 핵심 작업인 Phase 2가 저가 구간에 해당하여 전체 비용을 크게 절감할 수 있다. 산출된 예산 내에서 프로젝트의 성공적인 완수가 가능할 것으로 판단된다.