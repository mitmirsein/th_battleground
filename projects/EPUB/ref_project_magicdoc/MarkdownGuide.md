---
title: "Markdown to Document 출력 최적화 가이드 (PDF/EPUB)"
author: "Markdown to Document CLI"
version: "1.2.7"
updated: "2026-01-06"
---

# Markdown to Document 출력 최적화 가이드 (PDF/EPUB)

이 문서는 **일반 Markdown 파일**과 **Obsidian 노트 문법을 포함한 Markdown 파일**을 `markdown-to-document-cli`로 **PDF/EPUB로 변환**할 때, 결과물(레이아웃/가독성/표지/목차/이미지/표/코드)이 가장 안정적으로 나오도록 작성/정리하는 기준을 제공합니다.

특히, **Interactive Mode**에서 첫 단계에 사용할 "가이드/기준 문서"로 설계되었습니다.

---

## 1) Interactive Mode 워크플로우

**간소화된 3단계 워크플로우**가 적용되었습니다:

| Step | 내용 | 설명 |
|------|------|------|
| **Step 1** | 📄 파일 선택 | 마크다운 파일 경로 입력 |
| **Step 2** | 🚀 모드 선택 | 변환 모드 선택 (빠른/상세) |
| **Step 3** | ⚡ 변환 실행 | 자동 분석 + 전처리 + 변환 |

### 2가지 변환 모드

- **⚡ 빠른 변환** - 출력 형식만 선택, 스마트 기본값 자동 적용 (권장)
- **⚙️ 상세 설정** - 프리셋, 테마, 제목/저자 직접 선택

### 스마트 기능

- **자동 전처리**: Obsidian 문법 감지 시 자동 최적화
- **스마트 기본값**: 문서 분석 기반 프리셋/테마 자동 추천
- **메타데이터 추출**: frontmatter에서 title/author 자동 감지

---

## 2) 전처리가 필요한 경우

다음 항목이 하나라도 있으면 전처리가 자동으로 적용됩니다:

- **Obsidian 문법**:
  - 이미지 임베드: `![[image.png]]`
  - 내부 링크: `[[문서]]`, `[[문서|표시]]`, `[[#섹션]]`
  - 하이라이트: `==강조==`
  - 콜아웃: `> [!note]` 등
- 복잡한 표 (5열 초과)
- 긴 코드 라인 (100자 초과)
- H1 제목 중복

> 💡 위 항목이 감지되면 "빠른 변환" 모드에서도 자동으로 전처리가 적용됩니다.

---

## 3) 문서 메타데이터 (YAML Frontmatter)

문서 최상단에 YAML 프론트매터를 추가하면 표지/메타데이터/파일명/목차 품질이 좋아집니다.

```yaml
---
title: "문서 제목"
subtitle: "부제목 (선택)"
author: "저자명 (선택)"
date: "2026-01-06"
language: "ko"
description: "문서 설명 (선택)"
---
```

권장:
- `title`: 필수(가능하면 1줄)
- `author`: 표지에 표시되길 원하면 입력
- `language`: 한글 문서면 `ko` 권장

주의:
- 변환 과정에서 프론트매터는 “메타데이터로만 사용”되고 본문 출력에서 제거될 수 있습니다.

---

## 3) 제목(Heading) 구조 규칙

PDF/EPUB 목차와 페이지 브레이크 품질은 제목 구조에 크게 좌우됩니다.

권장 규칙:
- **H1(`#`)은 1개만**: 문서의 책 제목
- `##`는 장(Chapter)
- `###`는 절(Section)
- `####`는 소절(Subsection)

좋은 예:
```markdown
# 책 제목

## 1장. 소개
### 1.1 배경
### 1.2 목적

## 2장. 본론
### 2.1 주제

## 3장. 결론
```

피해야 할 예:
- H1이 여러 개
- 제목 레벨이 건너뛰기 (`##` 다음에 바로 `####`)

---

## 4) 텍스트 가독성(한글/줄바꿈/단락)

### 단락 권장
- 문단은 너무 길게(한 문단에 20줄 이상) 만들지 말고 적절히 분리하세요.
- 문단 사이에는 **빈 줄 1개**로 구분하세요.

### 줄바꿈
- “강제 줄바꿈(엔터)”을 남발하면 EPUB에서 불리할 수 있습니다.
- 가능한 한 문단 단위로 작성하고, 목록/표/코드 등 구조적 요소로 정리하는 것을 권장합니다.

---

## 5) Obsidian 문법 호환 가이드

`markdown-to-document-cli`는 Obsidian 노트의 주요 문법을 출력 친화적으로 정리하는 것을 목표로 합니다.

### 5.1 이미지 임베드

Obsidian:
```markdown
![[photo.jpg]]
![[photo.jpg|대체 텍스트]]
```

표준 Markdown(권장 형태):
```markdown
![대체 텍스트](attachments/photo.jpg)
```

권장:
- **대체 텍스트(alt)**는 반드시 넣기(접근성/목차/검색/문서 품질)
- 파일 경로를 명확히(상대 경로)

### 5.2 내부 링크(위키링크)

Obsidian:
```markdown
[[문서명]]
[[문서명|표시텍스트]]
[[#섹션]]
[[문서#섹션|표시]]
```

권장:
- PDF/EPUB에서 내부 링크는 종종 “텍스트”로 처리됩니다.
- 책 형태 출력이라면 링크보다 **해당 내용을 본문에 통합**하거나, “참고 문서 목록” 섹션으로 모으는 편이 안정적입니다.

### 5.3 하이라이트

Obsidian:
```markdown
==강조==
```

권장:
- 출력에서 강조는 `**굵게**`로 통일하는 것이 가장 안전합니다.

### 5.4 콜아웃(Callout)

Obsidian 콜아웃은 다음 형태를 권장합니다.

```markdown
> [!note]
> 핵심 메모

> [!warning]
> 주의 사항
```

권장:
- 콜아웃 내부에는 “표/큰 이미지/긴 코드”를 넣지 마세요(페이지 분할 리스크)

---

## 6) 이미지 품질/배치 최적화

### 6.1 권장 해상도

- 본문 삽입: **800×600px 이상**
- 전체 페이지급: **1200×1600px 이상**
- 스크린샷(문자 포함): 가급적 PNG

### 6.2 파일명 규칙

좋은 예:
- `chapter1-diagram.png`
- `product-screenshot.jpg`

피해야 할 예:
- `IMG_20260106_123456.jpg`
- `스크린샷 2026-01-06.png` (공백)

### 6.3 페이지 분할(잘림) 방지

- 이미지 전후로 **빈 줄**을 두세요.
- 연속 이미지는 이미지 사이에도 **빈 줄**을 넣으세요.

---

## 7) 표(Table) 최적화

기본 표:
```markdown
| 헤더 1 | 헤더 2 | 헤더 3 |
|--------|--------|--------|
| 셀 1   | 셀 2   | 셀 3   |
```

권장:
- 열 수는 5개 이내
- 셀 안의 텍스트는 20자 이내(가능하면)
- 복잡한 데이터는 여러 표로 분리

피해야 할 것:
- 매우 긴 셀 내용
- 셀 내부에 복잡한 마크다운(중첩 목록/코드/이미지)

테이블 중심 문서라면 Typography Preset을 `table_heavy`로 권장합니다.

---

## 8) 코드(Code) 최적화

인라인 코드:
```markdown
`변수명` 또는 `함수()`
```

코드 블록:
````markdown
```ts
function hello() {
  console.log('Hello');
}
```
````

권장:
- 언어 태그 지정(예: `ts`, `python`, `bash`)
- 긴 줄은 줄바꿈(특히 PDF에서 잘림 방지)

매뉴얼/기술 문서라면 Typography Preset을 `manual`로 권장합니다.

---

## 9) 수식/다이어그램/HTML

### 9.1 HTML 임베드

권장하지 않습니다.
- 복잡한 HTML은 PDF/EPUB에서 예측 불가한 결과를 만들 수 있습니다.

대안:
- 가능한 마크다운 구조로 대체
- 꼭 필요하면 “이미지(스크린샷) + 링크” 조합

### 9.2 Mermaid / Dataview 등 플러그인 문법

Obsidian 플러그인 결과에 의존하는 문법은 출력 호환성이 낮습니다.

권장:
- Mermaid는 **이미지로 렌더링한 후 삽입**
- Dataview 결과는 **테이블/텍스트로 직접 고정**해서 작성

---

## 10) 프리셋/테마 선택 가이드 (출력 품질 기준)

### 10.1 Typography Preset 추천

- 글이 많음: `text_heavy`
- 표가 많음: `table_heavy`
- 이미지가 많음: `image_heavy`
- 균형형 문서: `balanced`
- 보고서: `report`
- 매뉴얼/기술문서: `manual`
- 잡지 스타일: `magazine`

### 10.2 Cover Theme 추천

- 비즈니스/보고서: `corporate`, `academic`
- 크리에이티브: `sunset`, `ocean`, `aurora`, `rose_gold`
- 계절감: `spring`, `autumn`, `winter`

---

## 11) 문서 템플릿

### 11.1 Obsidian 노트 → 출력용 문서 템플릿

```markdown
---
title: "문서 제목"
subtitle: "부제목"
author: "저자"
date: "2026-01-06"
language: "ko"
---

# 문서 제목

## 요약

3~7문장으로 요약하세요.

## 본문

### 핵심 내용

- 중요한 포인트
- 중요한 포인트

> [!note]
> 독자가 꼭 기억해야 할 내용

### 이미지 예시

![이미지 설명](attachments/diagram.png)

### 표 예시

| 항목 | 값 |
|------|----|
| A    | 10 |
| B    | 20 |

## 참고

- https://example.com
```

### 11.2 보고서 템플릿(추천: `report`)

```markdown
---
title: "보고서 제목"
subtitle: "2026년 1월"
author: "작성자"
date: "2026-01-06"
---

# 보고서 제목

## 요약

- 핵심 요약 1
- 핵심 요약 2

## 배경

## 현황

## 분석

## 제안

## 결론
```

---

## 12) 체크리스트

### 변환 전

- [ ] YAML 프론트매터 작성(title/author)
- [ ] H1은 1개만 있는가?
- [ ] 이미지 파일이 실제로 존재하는가?
- [ ] 이미지에 대체 텍스트(alt)가 있는가?
- [ ] 표의 열 수/셀 길이가 과도하지 않은가?
- [ ] 코드 블록 긴 줄이 줄바꿈 처리되었는가?
- [ ] Obsidian 플러그인 문법(mermaid/dataview 등)을 출력 친화적으로 바꿨는가?

### 변환 후

- [ ] 표지가 정상 생성되었는가?
- [ ] 이미지가 잘리지 않는가?
- [ ] 표가 깨지지 않는가?
- [ ] 코드 블록이 잘리지 않는가?
- [ ] 목차 구조가 기대대로 생성되었는가?

---

## 13) 빠른 결론: 어떤 모드로 갈 것인가?

- Obsidian 노트 기반 + 품질 중요 → **빠른 변환/상세 설정 모두 OK (자동 전처리 적용)**
- 표준 Markdown + 빠른 결과 확인 → **빠른 변환 권장**

---

## 참고

- Repository: https://github.com/goodlookingprokim/markdown-to-document-cli
- 버전: 1.2.7

---

**마지막 업데이트**: 2026-01-06 (v1.2.7)
